<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Sitelinks | A-Odds</title>
  <meta name="description" content="ลิงก์สำคัญของ A-Odds: โปรแกรมบอล/อัตราต่อรองรายวัน, วิเคราะห์ก่อนเกม (รวมทุกคู่), และคลังย้อนหลังแยกตามลีก" />
  <link rel="canonical" href="https://a-odds.github.io/sitelink.html" />
  <meta name="robots" content="index,follow" />

  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif;max-width:980px;margin:0 auto;padding:16px;line-height:1.6}
    header{border-bottom:1px solid #eee;padding-bottom:10px;margin-bottom:14px}
    h1{font-size:22px;margin:0 0 6px}
    .muted{color:#666;font-size:14px}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:12px}
    .card{border:1px solid #eee;border-radius:10px;padding:12px}
    .card h2{font-size:16px;margin:0 0 8px}
    ul{margin:0;padding-left:18px}
    code{background:#f6f6f6;padding:2px 6px;border-radius:6px}
  </style>
</head>

<body>
  <header>
    <h1>Sitelinks (Visitors + Bots)</h1>
    <div class="muted">
      เว็บ: <a href="https://a-odds.github.io/">https://a-odds.github.io/</a>
      • หน้านี้ช่วยให้ผู้ใช้และบอทเข้าถึงหน้าสำคัญได้เร็ว
    </div>
  </header>

  <!-- ส่วนนี้ bot อ่านได้ทันที (ไม่ต้องใช้ JS) -->
  <section class="grid">
    <div class="card">
      <h2>หน้าแรก</h2>
      <ul>
        <li><a href="https://a-odds.github.io/">หน้าแรก (Home)</a></li>
      </ul>
    </div>

    <div class="card">
      <h2>โปรแกรมการแข่ง (คาดการณ์ + อัตราต่อรอง)</h2>
      <ul>
        <li><a href="https://a-odds.github.io/program/">โปรแกรมล่าสุด (ผ่าน /program/)</a></li>
        <li id="programLatestWrap" class="muted">กำลังโหลดลิงก์โปรแกรมล่าสุด...</li>
      </ul>
      <noscript class="muted">* เปิด JavaScript เพื่อแสดง “ไฟล์ล่าสุด” (แต่ลิงก์ /program/ ใช้งานได้อยู่แล้ว)</noscript>
    </div>

    <div class="card">
      <h2>วิเคราะห์ก่อนเกม (รวมทุกคู่)</h2>
      <ul>
        <li><a href="https://a-odds.github.io/analysis/">วิเคราะห์ล่าสุด (ผ่าน /analysis/)</a></li>
        <li id="analysisLatestWrap" class="muted">กำลังโหลดลิงก์วิเคราะห์ล่าสุด...</li>
      </ul>
      <noscript class="muted">* เปิด JavaScript เพื่อแสดง “ไฟล์ล่าสุด” (แต่ลิงก์ /analysis/ ใช้งานได้อยู่แล้ว)</noscript>
    </div>

    <div class="card">
      <h2>Archive แยกตามลีก</h2>
      <ul>
        <li><a href="https://a-odds.github.io/archive/">Archive (ผ่าน /archive/)</a></li>
        <li><a href="https://a-odds.github.io/archive/epl.html">Premier League</a></li>
        <li><a href="https://a-odds.github.io/archive/laliga.html">La Liga</a></li>
        <li><a href="https://a-odds.github.io/archive/serie-a.html">Serie A</a></li>
        <li><a href="https://a-odds.github.io/archive/bundesliga.html">Bundesliga</a></li>
        <li><a href="https://a-odds.github.io/archive/ligue-1.html">Ligue 1</a></li>
        <li><a href="https://a-odds.github.io/archive/championship.html">Championship</a></li>
        <li><a href="https://a-odds.github.io/archive/ucl.html">Champions League</a></li>
        <li><a href="https://a-odds.github.io/archive/uel.html">Europa League</a></li>
        <li><a href="https://a-odds.github.io/archive/uecl.html">Conference League</a></li>
      </ul>
    </div>
  </section>

  <div style="height:14px"></div>

  <section class="card">
    <h2>สำหรับบอท (แนะนำ)</h2>
    <ul>
      <li>ควรมี <code>/robots.txt</code> และชี้ <code>Sitemap</code> เพื่อเร่งการเก็บหน้า</li>
      <li>ถ้าคุณทำ <code>/sitemap.xml</code> แล้ว ให้ใส่ไว้ใน robots.txt (ผมใส่ให้แล้วด้านล่าง)</li>
    </ul>
  </section>

  <script>
    // ดึง “ไฟล์ล่าสุด” ใน /program และ /analysis (โชว์ให้ visitors)
    // หมายเหตุ: bot บางตัวอาจไม่รัน JS แต่ไม่เป็นไร เพราะเรามีลิงก์ /program/ และ /analysis/ อยู่แล้ว

    const OWNER = "a-odds";
    const REPO  = "a-odds.github.io";

    async function latestDaily(folder) {
      const api = `https://api.github.com/repos/${OWNER}/${REPO}/contents/${folder}`;
      const res = await fetch(api, { headers: { "Accept": "application/vnd.github+json" } });
      if (!res.ok) throw new Error(res.status);
      const items = await res.json();

      const pages = items
        .filter(x => x.type === "file" && /\.html$/i.test(x.name) && x.name.toLowerCase() !== "index.html")
        .map(x => x.name);

      const latest = pages.sort().pop(); // ใช้ชื่อ YYYY-MM-DD.html จะได้ล่าสุดชัวร์
      if (!latest) throw new Error("no pages");
      return `https://a-odds.github.io/${folder}/${latest}`;
    }

    (async () => {
      try {
        const url = await latestDaily("program");
        document.getElementById("programLatestWrap").innerHTML =
          `ไฟล์ล่าสุด: <a href="${url}">${url.split("/").pop()}</a>`;
      } catch {
        document.getElementById("programLatestWrap").textContent =
          "ไม่สามารถโหลดไฟล์ล่าสุดได้ (ใช้ลิงก์ /program/ ได้ตามปกติ)";
      }

      try {
        const url = await latestDaily("analysis");
        document.getElementById("analysisLatestWrap").innerHTML =
          `ไฟล์ล่าสุด: <a href="${url}">${url.split("/").pop()}</a>`;
      } catch {
        document.getElementById("analysisLatestWrap").textContent =
          "ไม่สามารถโหลดไฟล์ล่าสุดได้ (ใช้ลิงก์ /analysis/ ได้ตามปกติ)";
      }
    })();
  </script>
</body>
</html>
